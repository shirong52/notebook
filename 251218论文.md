---


---

<h3 id="一、研究目标与意义">一、研究目标与意义</h3>
<ol>
<li><strong>核心目标</strong>：论文聚焦<strong>掩码图像建模（MIM）</strong> 模型在高级感知任务中表现不佳的问题，通过分析其注意力机制，揭示性能瓶颈并提出改进方案。</li>
<li><strong>解决的问题</strong>：MIM模型（如MAE）的 <strong>[cls] token</strong> 或平均池化方式无法有效聚合语义信息，导致其开箱即用性能显著低于<strong>联合嵌入架构（JEA）</strong>（如DINO）。</li>
<li><strong>产业意义</strong>：MIM模型因无需复杂数据增强、适用范围广，在医疗影像、工业质检等领域潜力巨大，但现有性能限制了其落地。论文提出的方法可直接提升MIM模型的实用性，降低企业对标注数据的依赖。</li>
</ol>
<blockquote>
<p><em>“MIM representations do not work well with the two standard ViT feature extraction methods – the [cls] tokens and average patch representations… contributing to the performance gap between these two approaches.”</em></p>
</blockquote>
<h3 id="二、方法创新：选择性聚合机制">二、方法创新：选择性聚合机制</h3>
<p>论文提出<strong>选择性聚合（Selective Aggregation）</strong> 机制，通过动态选择相关patch token来提取MIM模型的高级信息。其核心是<strong>注意力多实例学习池化（AbMILP）</strong>，公式如下：</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub><mo>=</mo><mtext>softmax</mtext><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mrow><mi>L</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s_i = \text{softmax}(t(z_{L,i}))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mord text"><span class="mord">softmax</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">))</span></span></span></span></span></span></p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>z</mi><mtext>global</mtext></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>s</mi><mi>i</mi></msub><msub><mi>z</mi><mrow><mi>L</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{\text{global}} = \sum_{i=1}^N s_i z_{L,i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.10601em; vertical-align: -1.27767em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.82834em;"><span class="" style="top: -1.87233em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.05001em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.30001em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right: 0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.27767em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li><strong>参数解释</strong>：
<ul>
<li>t：轻量级线性回归器（仅增加<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">D+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">D</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>个参数，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">D</span></span></span></span></span>为token维度），用于预测每个patch token的权重。</li>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>L</mi><mo separator="true">,</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">z_{L,i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>​：第LL层第ii个patch token的特征。</li>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>：归一化后的权重，通过softmax确保权重和为1。</li>
<li><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mtext>global</mtext></msub></mrow><annotation encoding="application/x-tex">z_{\text{global}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.04398em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">global</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>​：聚合后的全局表示，替代传统的[cls] token或平均池化。</li>
</ul>
</li>
</ul>
<p><strong>与传统方法对比</strong>：</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>特点</th>
<th>缺陷</th>
</tr>
</thead>
<tbody>
<tr>
<td>[cls] token</td>
<td>依赖预训练时的静态聚合</td>
<td>自注意力占比高（40–50%），信息循环而非整合</td>
</tr>
<tr>
<td>平均池化</td>
<td>简单易实现</td>
<td>对所有 patch 同等对待，无法区分重要性</td>
</tr>
<tr>
<td>选择性聚合</td>
<td>动态选择相关 patch，无侵入性</td>
<td>需额外训练线性回归器（但参数极少）</td>
</tr>
</tbody>
</table><blockquote>
<p><em>“Selective Aggregation only restructures the existing out-of-the-box ViT representations without transforming them into a different representation space.”</em></p>
</blockquote>
<h3 id="三、实验验证">三、实验验证</h3>
<p>论文在多个任务中验证了选择性聚合的有效性，关键数据如下：</p>
<ol>
<li><strong>ImageNet-1k分类</strong>：
<ul>
<li>MAE ViT-B：[cls] token准确率67.8% → 选择性聚合71.6%（提升3.8%）。</li>
<li>BEIT-v2 ViT-B：[cls] token78.9% → 选择性聚合80.9%（提升2.0%）。</li>
</ul>
</li>
<li><strong>细粒度分类（CUB-200）</strong>：
<ul>
<li>MAE ViT-B：[cls] token45.8% → 选择性聚合65.9%（提升20.1%）。</li>
</ul>
</li>
<li><strong>目标定位（MaxBoxAccV2）</strong>：
<ul>
<li>MAE ViT-B：[cls]注意力图53.3% → 选择性聚合59.4%（提升6.1%）。</li>
</ul>
</li>
</ol>
<blockquote>
<p><em>“Selective Aggregation consistently improves or matches MIM performance on these tasks.”</em></p>
</blockquote>
<h3 id="四、未来方向">四、未来方向</h3>
<ol>
<li><strong>无监督聚合</strong>：当前方法需结合下游任务训练线性回归器，未来可探索无监督方式自动识别相关token。</li>
<li><strong>扩展至内部层</strong>：论文仅使用最后一层的patch token，未来可尝试聚合中间层的特征，进一步提升性能。</li>
<li><strong>技术投资机会</strong>：选择性聚合可作为MIM模型的“插件”，集成到现有框架中（如MAE、BEIT），降低企业部署成本。</li>
</ol>
<h3 id="五、批判视角">五、批判视角</h3>
<ol>
<li><strong>局限性</strong>：分析基于公开预训练模型，未探索不同超参数（如掩码比例）对聚合机制的影响。</li>
<li><strong>待验证点</strong>：论文未对比选择性聚合与<strong>微调（Fine-tuning）</strong> 的效果，需进一步验证其在低资源场景下的优势。</li>
<li><strong>缺失</strong>：未讨论选择性聚合在视频、3D点云等其他数据类型上的适用性。</li>
</ol>
<h3 id="六、启发与建议">六、启发与建议</h3>
<p><strong>可借鉴的创新点</strong>：</p>
<ul>
<li><strong>动态聚合思想</strong>：突破传统静态聚合方式，为其他模型（如BERT）的特征提取提供新思路。</li>
<li><strong>轻量级设计</strong>：仅增加少量参数即可显著提升性能，适合资源受限场景。</li>
</ul>
<p><strong>需补充的背景知识</strong>：</p>
<ul>
<li><strong>自监督学习</strong>：了解JEA与MIM的核心区别（如对比学习vs重建任务）。</li>
<li><strong>Vision Transformer</strong>：掌握ViT的patch划分、[cls] token作用及注意力机制。</li>
</ul>
<blockquote>
<p><em>“The improvements resulting from Selective Aggregation… support the key finding that the lack of proper aggregation is an inherent problem in MIMs.”</em></p>
</blockquote>
<p>通过以上解读，论文的核心贡献在于揭示了MIM模型的聚合缺陷，并提出了一种简单高效的解决方案，为其在实际场景中的应用铺平了道路。</p>

